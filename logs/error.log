{"code":21211,"level":"error","message":"Error updating phone number: Invalid 'To' Phone Number: 077346XXXX","moreInfo":"https://www.twilio.com/docs/errors/21211","service":"user-service","stack":"Error: Invalid 'To' Phone Number: 077346XXXX\n    at success (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\twilio\\lib\\base\\Version.js:79:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updatePhone (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\controller\\user.controller.js:152:9)","status":400,"timestamp":"2024-06-24 17:56:14"}
{"code":60200,"level":"error","message":"Lỗi khi cập nhật số điện thoại: Invalid parameter `To`: 0773460221","moreInfo":"https://www.twilio.com/docs/errors/60200","service":"user-service","stack":"Error: Invalid parameter `To`: 0773460221\n    at success (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\twilio\\lib\\base\\Version.js:79:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updatePhone (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\controller\\user.controller.js:155:30)","status":400,"timestamp":"2024-06-24 18:14:30"}
{"code":21608,"level":"error","message":"Lỗi khi cập nhật số điện thoại: The phone number is unverified. Trial accounts cannot send messages to unverified numbers; verify it at twilio.com/user/account/phone-numbers/verified","moreInfo":"https://www.twilio.com/docs/errors/21608","service":"user-service","stack":"Error: The phone number is unverified. Trial accounts cannot send messages to unverified numbers; verify it at twilio.com/user/account/phone-numbers/verified\n    at success (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\twilio\\lib\\base\\Version.js:79:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updatePhone (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\controller\\user.controller.js:155:30)","status":403,"timestamp":"2024-06-24 18:15:17"}
{"code":21608,"level":"error","message":"Error when updating phone number: The number +8477346XXXX is unverified. Trial accounts cannot send messages to unverified numbers; verify +8477346XXXX at twilio.com/user/account/phone-numbers/verified, or purchase a Twilio number to send messages to unverified numbers","moreInfo":"https://www.twilio.com/docs/errors/21608","service":"user-service","stack":"Error: The number +8477346XXXX is unverified. Trial accounts cannot send messages to unverified numbers; verify +8477346XXXX at twilio.com/user/account/phone-numbers/verified, or purchase a Twilio number to send messages to unverified numbers\n    at success (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\twilio\\lib\\base\\Version.js:79:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updatePhone (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\controller\\user.controller.js:157:9)","status":400,"timestamp":"2024-06-24 18:47:21"}
{"code":21608,"level":"error","message":"Error when updating phone number: The number +8477346XXXX is unverified. Trial accounts cannot send messages to unverified numbers; verify +8477346XXXX at twilio.com/user/account/phone-numbers/verified, or purchase a Twilio number to send messages to unverified numbers","moreInfo":"https://www.twilio.com/docs/errors/21608","service":"user-service","stack":"Error: The number +8477346XXXX is unverified. Trial accounts cannot send messages to unverified numbers; verify +8477346XXXX at twilio.com/user/account/phone-numbers/verified, or purchase a Twilio number to send messages to unverified numbers\n    at success (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\twilio\\lib\\base\\Version.js:79:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updatePhone (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\controller\\user.controller.js:161:9)","status":400,"timestamp":"2024-06-24 18:52:43"}
{"level":"error","message":"Error changing password: bcrypt is not defined","service":"user-service","stack":"ReferenceError: bcrypt is not defined\n    at Object.updatePassword (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\models\\UserModel.js:189:33)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async updatePassword (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\controller\\user.controller.js:90:9)","timestamp":"2024-06-24 19:54:27"}
{"level":"error","message":"Error changing password: saltRounds is not defined","service":"user-service","stack":"ReferenceError: saltRounds is not defined\n    at Object.updatePassword (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\models\\UserModel.js:196:63)\n    at async updatePassword (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\controller\\user.controller.js:89:9)","timestamp":"2024-06-24 19:57:55"}
{"level":"error","message":"Error changing password: db is not defined","service":"user-service","stack":"ReferenceError: db is not defined\n    at Object.updatePassword (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\models\\UserModel.js:198:9)\n    at async updatePassword (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\controller\\user.controller.js:89:9)","timestamp":"2024-06-24 19:58:33"}
{"level":"error","message":"Error changing password: Current password is incorrect","service":"user-service","stack":"Error: Current password is incorrect\n    at Object.updatePassword (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\models\\UserModel.js:190:19)\n    at async updatePassword (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\controller\\user.controller.js:88:9)","timestamp":"2024-06-24 20:02:29"}
{"level":"error","message":"Error sending OTP: generateOTP is not defined","service":"user-service","stack":"ReferenceError: generateOTP is not defined\n    at forgetPassword (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\controller\\user.controller.js:100:21)\n    at Layer.handle [as handle_request] (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2024-06-24 20:20:03"}
{"level":"error","message":"Error connecting to the database Server selection timed out after 30000 ms","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":30,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":"atlas-13um6j-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"user-service","stack":"MongoServerSelectionError: Server selection timed out after 30000 ms\n    at EventTarget.<anonymous> (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\mongodb\\lib\\sdam\\topology.js:289:34)\n    at [nodejs.internal.kHybridDispatch] (node:internal/event_target:825:20)\n    at EventTarget.dispatchEvent (node:internal/event_target:760:26)\n    at abortSignal (node:internal/abort_controller:370:10)\n    at TimeoutController.abort (node:internal/abort_controller:392:5)\n    at Timeout.<anonymous> (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\mongodb\\lib\\utils.js:976:92)\n    at listOnTimeout (node:internal/timers:573:17)\n    at process.processTimers (node:internal/timers:514:7)","timestamp":"2024-06-24 20:57:08"}
{"level":"error","message":"Error changing password: Current password is incorrect","service":"user-service","stack":"Error: Current password is incorrect\n    at Object.updatePassword (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\models\\UserModel.js:190:19)\n    at async updatePassword (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\controller\\user.controller.js:93:9)","timestamp":"2024-06-24 21:01:42"}
{"level":"error","message":"Register User Error: Cannot read properties of undefined (reading '_id')","service":"user-service","stack":"TypeError: Cannot read properties of undefined (reading '_id')\n    at transform (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\mongodb\\lib\\operations\\common_functions.js:30:17)\n    at Array.map (<anonymous>)\n    at maybeAddIdToDocuments (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\mongodb\\lib\\operations\\common_functions.js:35:49)\n    at new InsertOneOperation (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\mongodb\\lib\\operations\\insert.js:43:84)\n    at Collection.insertOne (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\node_modules\\mongodb\\lib\\collection.js:155:71)\n    at Object.createNotification (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\models\\NotificationModel.js:21:61)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async registerUser (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\controller\\auth.controller.js:87:9)","timestamp":"2024-06-25 08:42:30"}
{"level":"error","message":"Register User Error: Cannot read properties of undefined (reading '0')","service":"user-service","stack":"TypeError: Cannot read properties of undefined (reading '0')\n    at Object.createNotification (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\models\\NotificationModel.js:22:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async registerUser (C:\\Users\\Khanh Rom\\Documents\\Coding\\salesoBE\\controller\\auth.controller.js:92:9)","timestamp":"2024-06-25 09:03:17"}
